<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro2</title>
    <link rel="stylesheet" href="css/CadastroForm.css">
    <link rel="shortcut icon" href="img/menuTop.png" type="image/x-icon">
</head>
<body>
    <a href="CadastroForm1.html"><img class="seta" src="img/seta.svg" alt="seta"></a>
    <h1>Cadastro</h1>
    <div class="container">

      <div class= "progress-bar">
        <div class="step">
          <div class="bullet" id="bullet1"></div>
        </div>
        <div class="step"> 
          <div class="bullet" id="bullet2" style="background: #34A087"></div>
        </div>
        <div class="step">
          <div class="bullet" id="bullet3"></div> 
        </div>
        <div class="step">
          <div class="bullet" id="bullet4"></div> 
        </div>
        <div class="step">
          <div class="bullet" id="bullet5"></div> 
        </div>
        <div class="step">
          <div class="bullet" id="bullet6"></div> 
        </div>
        <div class="step">
          <div class="bullet" id="bullet7"></div> 
        </div>
        <div class="step">
          <div class="bullet" id="bullet8"></div>
        </div>
      </div>
  </div>
  <p class="pessoais">Informações de endereço</p>
  <div class="content">
    <div class="content1">
      <label for="cep">CEP</label>
      <input type="text" id="cep" required onblur="pesquisarCEP(this.value)">
      <label for="rua">Rua/Logradouro</label>
      <input type="text" id="rua" required>
      <label for="number">Número</label>
      <input type="text" id="number" required>
      <label for="complemento">Complemento</label>
      <input type="text" id="complemento" placeholder="(Opcional)">
    </div>
  
    <div class="content2">
      <label for="bairro">Bairro</label>
      <input type="text" id="bairro" required>
      <label for="cidade">Cidade</label>
      <input type="text" id="cidade" required>
      <label for="estado">Estado</label>
      <input type="text" id="estado" required>
      <label for="pais">País</label>
      <input type="text" id="pais" required>
    </div>
  </div>
  
  <div class="button-wrapper">
    <button type="submit" id="submit">Próximo</button>
  </div>

  <script>
    // Função para validar os campos do formulário
    function validateForm() {
        const cep = document.getElementById("cep").value;
        const rua = document.getElementById("rua").value;
        const number = document.getElementById("number").value;
        const bairro = document.getElementById("bairro").value;
        const cidade = document.getElementById("cidade").value;
        const estado = document.getElementById("estado").value;
        const pais = document.getElementById("pais").value;

        // Verifica se algum campo obrigatório está vazio
        if (!cep || !rua || !number || !bairro || !cidade || !estado || !pais) {
            alert("Por favor, preencha todos os campos obrigatórios.");
            return false; // Indica que a validação falhou
        }
        return true; // Indica que a validação foi bem-sucedida
    }

    // Função para enviar os dados do formulário ao Firebase
    document.getElementById("submit").addEventListener('click', function (e) {
        e.preventDefault(); // Evita o envio automático do formulário

        // Valida o formulário
        if (validateForm()) {
            const cep = document.getElementById("cep").value;
            const rua = document.getElementById("rua").value;
            const number = document.getElementById("number").value;
            const complemento = document.getElementById("complemento").value;
            const bairro = document.getElementById("bairro").value;
            const cidade = document.getElementById("cidade").value;
            const estado = document.getElementById("estado").value;
            const pais = document.getElementById("pais").value;

            localStorage.setItem('cep', cep);
            localStorage.setItem('rua', rua);
            localStorage.setItem('number', number);
            localStorage.setItem('complemento', complemento);
            localStorage.setItem('bairro', bairro);
            localStorage.setItem('cidade', cidade);
            localStorage.setItem('estado', estado);
            localStorage.setItem('pais', pais);
            
            //alert("Endereço enviado com sucesso!");
            window.location.href = 'CadastroForm3.html';
        }
    });

  </script>
  <script src="CEP.js"></script>
</body>
</html>
